<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Forecast</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://www.pagasa.dost.gov.ph/combine/f7ef8c9f0a2812ec72b9674537a19748-1672119430.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js" integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <div class="container-xl target">

    </div>
    <script>
        function query(selector){
            return axios(`/forecast-weather?selector=${selector}`).then(res=>{


                if(res.data.status){
                    let html = res.data.data;
                    let fragment = document.createDocumentFragment();

                    let _div = document.createElement("div");
                    _div.innerHTML = html;
                    fragment.appendChild(_div);

                    let content = fragment.querySelector(selector);



                    const div = document.createElement("div");
                    div.innerHTML = content.innerHTML;

                    let target = document.querySelector(".target");
                    target.appendChild(div);

                }
            })
        }

        async function render(){
            await query(".synopsis");
            await query(".forecast-condition");
            await query(".temperature-humidity");
            await query(".tides-astro");
        };
        render();

    </script>

    <template>
        <a href="https://www.linkedin.com/public-profile/settings?trk=d_flagship3_profile_self_view_public_profile">LinkedIn Profile</a>
        <a href="https://www.facebook.com/spadefaith/">FB Profile</a>

        <a href = "mailto: cedrick1227@gmail.com">Gmail</a>
        <a href = "mailto: cedrickcampoto@yahoo.com">Yahoo</a>

        <h1>Cedrick F. Campoto</h1>
    </template>
</body>
</html>